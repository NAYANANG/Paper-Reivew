# A Survey of Coded Distributed Computing

## **1. 소개**
분산컴퓨팅은 중앙집중식 컴퓨팅에 비해 몇가지의 장점이 있기 때문에 대규모 컴퓨팅에 사용되었다.  

    1) 분산컴퓨팅은 높은 안정성과 내결함성을 갖춘 컴퓨팅서비스를 제공한다.  
    2) 분산컴퓨팅은 계산부하가 높을수록 계산속도가 빠르다.  
    3) 분산컴퓨팅은 컴퓨팅노드를 쉽게 추가할 수 있으므로 확장이 가능하다.  
    4) 분산컴퓨팅은 저렴한 하드웨어로 컴퓨팅 노드를 사용하여 경제적이다.  

하지만 분산컴퓨팅도 단점이 있다. 분산컴퓨팅 프레임워크 중 하나인 MapReduce는 수많은 컴퓨팅 노드를 사용하여 대규모 데이터세트에서 계산작업을 처리하기 위한 소프트웨어 프레임워크이다. 전체 계산작업은 Map단계, Shuffle단계, Reduce단계로 이루어진다. Map단계에서 마스터노드가 계산작업을 여러 하위 작업으로 분할하고, 하위작업을 컴퓨팅 노드에 할당한다. 컴퓨팅노드는 할당된 Map기능에 따라 하위작업을 계산하여 중간 결과를 생성한다. Shuffle단계동안 중간결과가 컴퓨팅 노드간에 교환되고, 데이터가 차단된다. Reduce단계에서 컴퓨팅 노드는 이러한 결과를 사용하여 할당된 축소기능을 사용하여 분산방식으로 최종 결과를 계산한다. 여기서 두가지 단점이 발생한다.  

    1) 컴퓨팅 노드는 최종 결과를 계산하기 위해 네트워크를 통해 여러 중간결과를 서로 교환한다. 이때 통신오버헤드를 증가시키고, 분산컴퓨팅 애플리케이션의 성능을 제한한다.  
    2) 분산 컴퓨팅은 많은 컴퓨팅 노드에 의해 실행된다. 그결과, 다른 노드보다 의도하지 않게 느리게 실행되는 컴퓨팅 노드때문에 컴퓨팅작업을 완료하는데 필요한 전체 시간이 증가한다.  

하여 통신부하를 줄이고, 스트래글러의 영향을 완화하면서 내결함성, 보안향상 등의 기능을 제공할 수 있는 CDC가 주목을 받게 되었다.  

<논문에서 사용되는 약어 목록>  
![m](https://user-images.githubusercontent.com/59431387/108622977-adc57680-747f-11eb-8efc-263bbfd12d06.PNG)  


<br/></br>  
## **2. CDC의 기본사항**  
### 1. 코딩된 분산 컴퓨팅 프레임워크  
CDC에 대한 대부분의 연구는 MapReduce 프레임워크에 초점이 맞추어져 있다. MapReduce는 분산컴퓨팅 환경에서 대규모 데이터 세트를 처리하기 위해 대규모 상용기계 클러스터에서 실행되는 소프트웨어프레임워크이다. 확장성과 기계고장을 견딜 수 있는 능력으로 인해 MapReduce 프레임워크는 일반적으로 웹 액세스 로그분석, 문서 클러스터링, 웹구축과 같은 광범위한 애플리케이션에서 사용된다. MapReduce계산 프로임워크는 큰 입력파일을 처리하여 여러 출력 쌍(key,value)를 생성한다. MapReduce 계산 프레임워크는 3단계로 구성된다.  

   1) Map  
       Map단계에서는 작업할당과 작업 실행이 이루어진다. 마스터노드가 입력파일을 하위파일로 분할하고 작업자에게 할당하면, 각 작업자는 map함수를 사용하여 할당된 각 하위파일에 대한 중간결과를 생성한다.  
   2) Shuffle  
       작업자 중 한명이 Map단계에서 중간 결과 쌍의 정보를 포함하는 메시지를 생성하고 이를 다른 작업자에게 전송한다. 모든 작업자가 Reduce단계에 필요한 중간출력쌍을 받을 때 까지 셔플링 프로세스가 계속된다.  
   3) Reduce  
       Shuffle단계에서 얻은 결과를 reduce함수를 사용하여 더 작은 출력쌍 집합인 최종결과를 계산한다.  

    MapReduce외 다른 분산 프레임워크 
    - Spark : 여러 병렬 프로세스에서 작업데이터세트를 재사용해야하는 애플리케이션을 지원한다.  
    - Dryad : 단순하지만 고수준의 프로그래밍 언어를 통해 정점에서 자체통신그래프와 서브루틴을 구성할 수 있도록 함으로써 여러 컴퓨터로 구성된 클러스터에서 대규모 데이터 계산을 실행한다.  
    - CIEL : 통계적으로 미리 결정된 DAG(Directed Acyclic Graph)가 아닌 이전 계산의 실행으로 기반으로 DAG가 동적으로 생성되는 종속 데이터 흐름을 허용한다. 처리량을 최대화하는 대신 개별 작업의 지연시간을 최소화하는 것이 목표이다.  

### 2. CDC의 목적  
   1) 통신부하  
       MapReduce 계산 프레임워크의 세단계 중 Shuffle단계는 중간 결과를 교환하기 위해 처리노드간의 다중 통신이 필요하기 때문에 계산 작업을 완료하는데 많은 시간이 소요된다. 또한 분산 알고리즘을 사용하여 기계학습 모델을 훈련하려면 데이터를 무작위로 섞고 알고리즘을 여러번 반복적으로 실행하여 처리노드가 수렴할떄까지 각 반복에서 데이터의 다른 하위집합을 계산하는 것이 일반적이다. 로지스틱 회귀 애플리케이션의 경우 수렴하는데 최소 100회의 반복이 필요하고, 반복시간의 42%가 통신에 소비된다. 이처럼 데이터세트는 네트워크를 통해 통신되므로 높은 통신비용이 발생하여 분산컴퓨팅 시스템 성능을 제한하게 된다. 하여 저자는 전체 작업 실행시간을 줄이고, 분산의 확장성을 향상시키기 위해 Shufflae블록의 축적과 메모리 공간 사용 최소화 사이의 균형을 관리하기 위해 Reduce단계에서 계산을 완료할때까지 데이터의 실제 이동을 지연시켜 네트워크의 저장공간과 트래픽 부하를 줄이는 가상 데이터 셔플링 전략을 제안하였다. 데이터 셔플링 프로세스의 성능 향상을 위해 Quincy스케줄러, Hadoop Fair Scheduler, 지연 스케줄링 알고리즘과 같은 작업 스케줄링 알고리즘도 작업자에게 작업을 할당하도록 설계되었다. 최적의 작업 스케줄링에서 계산작업의 배치 최적화, 컴퓨팅 자원을 노드에 공정하게 분배, 시스템의 자원 활용 극대화 등 다양한 접근방식을 통해 통신부하를 최소화 할 수 있다.  
       
   2) 스트래글러 효과
       스트래글러는 예기치 않게 평균보다 느리게 실행되는 처리노드, 불충분한 전력, 공유자원의 경합, 불균형 작업 할당 및 네트워크 정체와 같은 여러요인으로 인해 네트워크에서 연결이 끊어질 수 있는 노드이다. 결과적으로 작업을 실행하는데 필요한 전체 시간은 가장 느린 처리노드에 의해 결정된다. 따라서 스트래글러 탐지 및 처리는 중요한 요소이다.  
       
       - 스트래글러 탐지 : 스트래글러 효과를 완화하는 가장 직접적인 접근 방식은 스트래글러를 감지하고 초기에 조치를 취하는 것이다.  
       - Work Stealing : 전체 작업 실행시간을 최소화하기 위해 더 빠른 처리노드가 더 느린 처리노드에서 나머지 계산 작업을 인수하도록 허용하는 것이다.  
       - Work Exchange : 계산능력을 기반으로 작업을 작업자에게 할당한다. 작업자 중 하나로부터 첫번째 계산된 결과를 수신하면 마스터노드는 컴퓨팅 프로세스를 일시중지하고, 나머지 불완전 작업을 작업자가 계산할 수 있도록 재분배한다. 이 프로세스는 모든 작업이 완료될때까지 여러번 반복된다. 작업자는 계산 프로세스가 일시중지 될때마다 수행되는 작업량을 마스터노드에게 알려야하므로 추가 통신 비용이 발생한다.  
       - Naive Replication : 중복성을 도입하여 계산 대기시간을 최소화하는 것이다. 모든 처리노드가 동일한 계산 작업을 수행하기 때문에 계산 작업을 완료하는데 필요한 시간은 가장 빠른 처리노드에 의해 결정된다. 나머지 처리노드의 부분계산은 삭제된다. 하지만 이중화의 도입은 높은 통신 대역폭 및 높은 계산 부하와 같은 더 많은 비용을 초래한다. 중복성을 도입하면서 대기시간을 줄이는데 도움이 되지만 성능은 설정에 따라 다를 수 있다. 
       - 코딩된 중복 : 코딩기술을 사용하여 중복성을 도입하고, 마스터노드가 디코딩 가능한 작업자 집합에서 최종 결과를 복구할 수 있도록 한다. 여전히 높은 통신 비용과 계산부하가 발생하지만 Naive Replication보다 낮다.  
       
<br/></br>  
## **3. CDC의 체계**  
1. 통신부하 최소화를 위한 CDC  
    ![a](https://user-images.githubusercontent.com/59431387/109166495-197d4b80-77c0-11eb-9eb8-8b71b5399983.PNG)  
    위 그림은 CDC와 코드화되지 않은 체계의 통신부하를 비교한 것이다. CDC프레임워크의 계산 부하 및 통신 부하는 ![b](https://user-images.githubusercontent.com/59431387/109166895-8a246800-77c0-11eb-81a7-4d24c9012efb.PNG)이다. 코딩되지 않은 계산 체계에서는 통신부하 L의 선형적 감소가 계산부하 r이 증가는 영향이 없다. 반면에 제안된 CDC프레임워크의 경우 통신부하는 계산부하에 반비례한다. K가 커지더라도 계산부하의 증가는 여전히 통신부하를 상당히 감소시킨다.  
    
2. 스트래글러 효과를 완화하는 CDC  

        - 행렬-벡터 곱  
        - 행렬-행렬 곱  
        - 경사하강법  
        - 컨볼루션 / 푸리에 변환  
        
3. 통합된 CDC체계  
    Shuffle 단계에서 멀티 캐스팅 기회를 도입하기 위해 Map단계에서 계산작업을 반복하여 통신부하를 최소화하는 Minimum Bandwidth Code를 제안한다. 마스터노드가 스트래글링 처리노드를 기다리지 않고 최종 결과를 복구할 수 있도록 Map작업을 인코딩하여 계산 지연시간을 최소화하는 것이다. 통합 코딩된 체계의 과정은 다음과 같다. 먼저, 행렬의 행을 인코딩한 후 행렬의 코딩된 행을 복제하여 특정패턴으로 처리노드에 저장한다. 그런 다음 처리노드는 가장 빠른 처리노드가 작업을 완료할 때까지 계산을 수행한다. Shuffle단계에서 통신부하를 줄이려면 코딩된 멀티태스킹은 Reduce단계에서 최종 결과를 복구하는데 필요한 중간결과를 교환하는데 사용된다. 반복코드의 중복속도를 높이면 Shuffle단계의 통신부하와 Map단계의 계산 대기시간이 동시에 향상될 수 있으므로 대기 시간-통신 트레이드오프가 향상된다.  

<br/></br>  
## **4. 통신비용을 줄이기 위해 제안된 CDC접근법**  

1. 파일할당  
    목표 : 시스템에서 처리노드의 기능 이질성을 고려하여 데이터 지역서을 최대화하거나 생성된 하위파일 수를 나타내는 하위 패킷화 수준을 줄이는 최적의 파일할당전략 설계  
    
        - 이기종 시스템 고려 : 제안된 CDC방식은 코딩된 멀티태스킹 기회를 도입하기 위해 처리노드에 하위파일을 신중하게 할당하지만 실제 구현에 유용하지 않을 수 있는 동종 시스템도 고려한다. 분산 컴퓨팅 노드에 파일을 적절하게 할당하기 위해서는 처리노드가 다양한 저장, 계산 및 통신 기능을 갖는 이기종 시스템을 고려하여 최적의 파일할당전략과 통신부하를 최소화하는 코딩방식을 결정해야한다. 작업자의 추가 스토리지 용량을 활용함으로써 데이터 전송과정에서 마스터노드와 작업자 간의 통신비용이 최소화된다. (데이터 전송 프로세스는 데이터 전달과 저장 업데이트 단계로 구성된다.)  
        - 데이터 지역성 극대화 : 최적의 파일할당 전략을 결정하는데 중요한 요소 중 하나는 데이터 지역성이다. 데이터 지역성은 데이터를 얻기 위해 통신이 필요하지 않도록 계산에 필요한 데이터를 갖는 처리노드에 할당된 Map의 작업 비율이다. 높은 데이터 집약성은 하위파일 전송에 필요한 통신 대역폭이 적다는 것을 의미하고, 이는 처리노드가 Map 작업 실행에 필요한 하위파일을 가지고 있지 않은 경우에 필요하다. 데이터 집약성을 최대화하기 위해 제한된 정수 최적화 문제를 해결하여 다른 처리노드에 MAp작업을 할당하여 문제를 해결할 수 있다.  
        - 하위 패킷화 수준 줄이기 : 네트워크의 처리노드 수가 증가함에 따라 입력파일도 많은 하위파일로 분할되어야 한다. 생성되는 서브파일의 수는 처리노드의 수에서 기하급수적으로 증가한다. 하지만 데이터 집합을 제한된 수의 패킷으로만 분할할 수 있는 하위파일의 수가 있다. 이 수준을 초과하면 더 많은 전송이 필요하고, 크기가 고르지 않은 중간결과로 인해 통신부하가 증가한다.

        * 하위 패킷화 수준을 낮추는 이유  
          1. 처리노드가 많은 경우에도 Shuffle단계에서 통신부하를 줄이기 위해  
          2. 브로드 캐스트 전송 및 제로 패딩에 필요한 불균일하게 매핑된 출력의 수를 줄이기 위해  
    
2. 코딩된 셔플링
    데이터 전송 단계는 통신비용의 큰 부분을 차지하기 때문에 데이터를 전송하기 전에 인코딩하여 통신부하를 최소화할 수 있다. 코딩을 다른 기술과 결합하여 Shuffle단계의 성능을 향상시키는 것 외에도 코딩 기술은 분산그래프 계산 문제 및 다른 계산 문제를 해결하도록 설계되었다.  
    
        1) 압축 및 무작위화
            - 압축 : 압축된 CDC계산기법은 압축과 코딩기법을 함께 사용하여 제안되었다. 각 처리노드는 먼저 할당된 Map작업을 계산하고, 중간결과를 생성한다. 압축기술을 사용하면 단일 계산작업의 여러 중간결과가 미리 결합된 단일 값으로 압축된다. 미리 결합된 하나의 값을 전송하는데 필요한 통신 대역폭은 미리 결합된 값의 크기가 하나의 중간값의 크기와 같기 때문에 여러개의 결합되지 않은 중간값을 전송하는 것보다 훨씬 작다. 서로 다른 작업의 사전 결합된 값들을 사용하여 처리노드는 다른 처리노드와 동시에 멀티 캐스팅하기 위해 이를 코딩한다.  
            - 무작위화 : Shuffle단계에서 멀티캐스팅 기회를 도입하는 대신 데이터의 효율성을 높이기 위한 방법으로 데이터 셔플링 프로세스에 무작위화를 도입하는 인덱스 코딩을 기반으로 세미 랜덤 데이터 셔플 및 코딩방식을 수행하는 것이 있다. 기존의 인덱스 코딩방식에서 두가지 수정이 있었다. 첫번째는 작업자간의 메시지 상관관계 감소이다. 모든 작업자가 동일한 메시지를 보유하지 않고, 일부 작업자에게만 메시지를 전송하는 것이다. 두번째는 반복 간의 메시지 상관관계는 랙 상단 스위치를 통해 연결되고, 루트 스위치는 (?). 무작위화는 마스터노드가 각 그룹에서 메시지를 선택하여 작업자에게 전송하는 경우, 작업자가 캐시에서 오래된 메시지를 살제하는 경우에 두 단계로 발생한다.  
         
        2) 여러번 반복에 걸친 코딩 : 코딩된 반복 알고리즘은 단일 계산 반복의 최적화 또는 단일 통신 라운드에서 통신 부하 최소화에 초점을 맞추고 있다. 하지만 분산된 반복 문제를 해결하려면 일반적으로 여러 차례의 통신이 필요하다. 반복의 결과는 분산 계산작업에서 여러번 반복에 걸쳐 코딩하여 단일 통신으로 전송된다. 작업자의 계산 및 스토리지 중복성을 활용함으로써 마스터노드와 작업자 간의 통신 라운드 수가 크게 줄어들어 통신 비용이 절감된다.  
    
3. 기본 네트워크 아키텍처 고려사항  
    - 일반적으로 작업자 간의 통신은 물론 작업자와 마스터노드 간의 통신은 서로 연결되는 방식의 영향을 받는다. 기본 아키텍처를 고려하면 통신비용 절감에 있어 코딩구현의 효과를 크게 향상시킬 수 있다.  
    - 데이터 셔플링 단계의 효율성을 높이기 위해 다양한 기술을 코딩기술과 함께 사용할 수 있지만, 코딩된 셔플링 알고리즘을 설계할 때 기본 네트워크 아키텍처, 즉 서버가 서로 연결되는 방식을 고려하는 것이 중요하다.  
    
    * Hybrid Coded MapReduce  
      Shuffle단계에는 두가지 유형의 통신이 있다.  
      
            1) 데이터가 서로 다른 랙 계층에 걸쳐 분산되는 교차 랙 통신  
            2) 데이터가 랙 내에서 분산되는 랙 내 통신  
            
      시뮬레이션 결과, 하이브리드 방식에 의해 발생하는 교차 랙 통신 비용이 랙 내 통신 비용보다 더 높은 대신 Coded MapReduce 및 Uncoded scheme보다 낮았다. Coded MapReduce 체계는 여전히 가장 낮은 통신 비용이 발생하지만 다른 계산 체계보다 정확한 비교를 제공하기 위해 랙 내 작업을 병렬화함으로써 하이브리드 체계의 전체 통신 비용을 더욱 줄일 수 있다.  
      
    - CDC계산기법은 처리노드가 서로 가깝고 공통 통신 버스를 통해 연결된 네트워크에 유용하다. 그러나 실제 분산 컴퓨팅 네트워크에서는 물리적으로 분리된 처리노드에 대해 공통 버스 토폴로지를 구현하기가 어렵다. 
    
    - 코딩된 셔플링 알고리즘은 데이터 슈핑 프로세스의 통신 부하를 줄이지만, 두가지 주요 한계가 있다.
    
            1) 마스터노드와 워커 사이에 완벽한 브로드 캐스트 채널을 가정  
            2) 이론적 방송 전송 수 보장은 데이터 포인트 수가 무한대에 가까워질때만 유지  
      
      코딩된 셔플링 알고리즘의 한계를 극복하기 위해 Ubershuffle에서는 워커사이에 데이터포인트를 재할당하여 인코딩테이블에서 누락된 항목을 채운다. 이렇게 되면 전송된 인코딩 패킷수가 줄어들어 통신부하가 줄어들게 된다.  
    
4. 기능 할당  
    이 연구는 파일할당과 유사하게 이기종 시스템 접근방식을 적용한다. 또한 각 Reduce함수가 여러 처리노드에서 계산될 수 있는 계단식 시스템을 고려한다. 일부작업에서 파일과 기능을 할당하기 위해 노드의 기능에서 이질성을 고려하지만 처리속도가 느린 스트래글러의 존재는 여전히 분산 컴퓨팅 시스템의 성능을 저해한다.  
    

<br/></br>  
## **5. 스트래글러 효과를 완화하기 위해 제안된 CDC접근법**  
1. 계산 부하 할당  
2. 대략적인 코딩(행렬코딩, 경사하강법, 비선형 계산)  
3. 스트래글러 조작  

<br/></br>  
## **6. 분산컴퓨팅에서 개인정보 보호 및 보안 강화를 위해 제안된 CDC접근법**  
1. 안전한 분산컴퓨팅  
2. SDMM  

<br/></br>  
## **7. CDC의 적용**  
1. 네트워크 기능 가상화 (NFV)  
2. 엣지 컴퓨팅  

<br/></br>  
## **8. 연구방향**  
- 이기종 노드  
- 인코딩 및 디코딩 복잡성  
- 미정적 컴퓨팅 노드  
- 보안문제
- 네트워크 아키텍처  
- 다양한 계산 프로임워크  
- 통신감소 및 지연완화를 위한 코딩  
- CDC 애플리케이션
